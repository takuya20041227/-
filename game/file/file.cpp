//------------------------------------------------------------------------------------------------------------------------------------------------------
//                systemOZ Ver3
//			ゲームメインプログラム
//						programed by TEAM_TAKUYA
//------------------------------------------------------------------------------------------------------------------------------------------------------
#ifdef WINDOWS_PC
#include    "../../../libs/systemOZ_v4/soz.h"
#else
#include    "D:/project/guardians_2dx/proj.win32/src/systemOZ/soz.h"
#endif

#include    "C:/project/town_break/src/game/game_include.h"
#include    "../include.h"


//------------------------------------------------------------------------------------------------------------------------------------------------------
//  ファイルへの書き出し
//------------------------------------------------------------------------------------------------------------------------------------------------------
SINT32 dimension_write_the_file( CHAR *file_name, const void *buf, size_t size, size_t n )
{	
	FILE *fp;
	fp = SOZ_FILE_open( file_name,"wb");
	if( fp == NULL )
	{
		return 0;	
	}
	SOZ_FILE_write( buf, size, n, fp );
	SOZ_FILE_close( fp );
	return 1;
}

//------------------------------------------------------------------------------------------------------------------------------------------------------
//   ファイルから読み込み
//------------------------------------------------------------------------------------------------------------------------------------------------------
SINT32 dimension_read_the_file( CHAR *file_name, void *buf, size_t size, size_t n )
{
	FILE *fp;
	fp = SOZ_FILE_open( file_name,"rb");
	if( fp == NULL )
	{
		return 0;	
	}
	SOZ_FILE_read( buf, size, n, fp );
	SOZ_FILE_close( fp );
	return 1;
}


//------------------------------------------------------------------------------------------------------------------------------------------------------
//  ページや選択番号への書き出し
//------------------------------------------------------------------------------------------------------------------------------------------------------
void select_and_page_write( CHAR *file_name, const void *buf )
{
	dimension_write_the_file( file_name, buf, sizeof( buf ), 1 );		//データを保存
}


//------------------------------------------------------------------------------------------------------------------------------------------------------
//  ページや選択番号への読み込み
//------------------------------------------------------------------------------------------------------------------------------------------------------
void select_and_page_read( CHAR *file_name, void *buf )
{
	dimension_read_the_file( file_name, buf, sizeof( buf ), 1 );		//データを保存
}


//------------------------------------------------------------------------------------------------------------------------------------------------------
//シーケンスをセーブする
//------------------------------------------------------------------------------------------------------------------------------------------------------
void sequence_write( CHAR *file_name, const void *buf )
{
	dimension_write_the_file( file_name, buf, sizeof( buf ), 0x1000 );		//データを保存
}


//------------------------------------------------------------------------------------------------------------------------------------------------------
//シーケンスを読み込む
//------------------------------------------------------------------------------------------------------------------------------------------------------
void sequence_read( CHAR *file_name, void *buf )
{
	dimension_read_the_file( file_name, buf, sizeof( buf ), 0x1000 );		//データを保存
}